"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74742],{23415:(e,t,r)=>{r.d(t,{J9:()=>a,M5:()=>n});var i=r(18652),n=()=>{var e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,i.format)({pathname:e})}},a=()=>{var e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,i.format)({pathname:e})}}},83550:(e,t,r)=>{r.d(t,{Df:()=>p,WP:()=>v,Xl:()=>l,bE:()=>c,bR:()=>f,cb:()=>u,dt:()=>d,fh:()=>_,h_:()=>m,vY:()=>g,vv:()=>h});var i=r(51895),n=r(91025),a=r(35841),o=r(18652),s=e=>{var{urlParams:t={},queryParams:r={}}=e,n="/cart/".concat(t.isPrimary?a.jT:a.pw),s=(0,i._)({},r);return{url:n,defaultParams:s,formattedUrl:(0,o.format)({pathname:n,query:s})}},l=function(){var{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=s({urlParams:e,queryParams:t}),a=(0,i._)({},r.defaultParams);return(0,n._)((0,i._)({},r),{defaultParams:a,formattedUrl:(0,o.format)({pathname:r.url,query:a})})},d=s,c=s,u=e=>{var{urlParams:t={},queryParams:r={}}=e,n="/cart/".concat(t.fromCartType,"/to/").concat(t.toCartType),a=(0,i._)({},r);return{url:n,defaultParams:a,formattedUrl:(0,o.format)({pathname:n,query:a})}},v=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.status);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},m=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},p=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},_=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.invitationId);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},f=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},h=e=>{var{urlParams:t={}}=e,r="/organization/users/".concat(t.id);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},g=function(){var{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/cart/".concat(a.jT,"/quote"),r=(0,n._)((0,i._)({},e),{exclude_comps:1,expand:"agreements"});return{url:t,defaultParams:r,formattedUrl:(0,o.format)({pathname:t,query:r})}}},74742:(e,t,r)=>{r.r(t),r.d(t,{MosaicAssetGridWithViews:()=>b});var i=r(51895),n=r(91025),a=r(31085),o=r(8558),s=r(96353),l=r(30896),d=r(73475),c=r(62536),u=r(2987),v=r(56880),m=r(87669),p=r(12580),_=e=>{var{assetOverlayProps:t}=e,r=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:_,hideSimilarAction:f,onAddToCollectionsComplete:h,listId:g,showInlineSimilarity:y}=r,{assetType:b}=(0,p.BF)(),{AddToCartViews:C,addToCartViewsHandler:w,addToCartViewsProps:I}=(0,c.k)(),{AddToCollectionViews:A,addToCollectionViewsHandler:S,addToCollectionViewsProps:T,isModalOpen:k,handleCloseModal:P,collectionProps:x}=(0,u.X)({initialAssetType:b}),{PreviewModal:E,previewModalProps:j,onAssetModalHandler:N}=(0,d.l)({addToCartViewsHandler:w,addToCollectionViewsHandler:S,assets:o,compLicensingHandler:null,licensingAssetId:null,withGoToPageAction:!0,withNavigationArrows:!0,listId:g,SecondaryActionsComponent:void 0,analyticsEventSection:void 0}),U=(0,m.sD)(null==o?void 0:o[0]);return(0,a.jsxs)(a.Fragment,{children:[k&&(0,a.jsx)(v.p,(0,i._)({modalIsOpen:k,handleClose:P},U&&{collectionProps:x})),(0,a.jsx)(l.MosaicAssetGrid,(0,i._)({assetOverlayProps:(0,i._)({listId:g,addToCartViewsHandler:w,addToCollectionViewsHandler:S,onAssetModalHandler:N,shouldHideOnImageMobile:!0},t),showInlineSimilarity:y},r)),(0,a.jsx)(C,(0,i._)({},I)),(0,a.jsx)(A,(0,i._)({onAddToCollectionsComplete:h},T)),(0,a.jsx)(E,(0,n._)((0,i._)({},j),{hideAddToCart:_,hideSimilarAction:f,showActionIcons:!0}))]})},f=r(47700),h=e=>{var{assetOverlayProps:t}=e,r=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:v,onAddToCollectionsComplete:m,listId:_,showInlineSimilarity:h}=r,{assetType:g}=(0,p.BF)(),{CompLicensingViews:y,licensingAssetId:b,compLicensingProps:C,compLicensingHandler:w}=(0,f.x)(),{AddToCartViews:I,addToCartViewsHandler:A,addToCartViewsProps:S}=(0,c.k)(),{AddToCollectionViews:T,addToCollectionViewsHandler:k,addToCollectionViewsProps:P}=(0,u.X)({initialAssetType:g}),{PreviewModal:x,previewModalProps:E,onAssetModalHandler:j}=(0,d.l)({addToCartViewsHandler:A,addToCollectionViewsHandler:k,assets:o,compLicensingHandler:w,licensingAssetId:b,withGoToPageAction:!0,withNavigationArrows:!0,listId:_,SecondaryActionsComponent:void 0,analyticsEventSection:void 0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.MosaicAssetGrid,(0,i._)({assetOverlayProps:(0,i._)({listId:_,addToCartViewsHandler:A,addToCollectionViewsHandler:k,compLicensingHandler:w,licensingAssetId:b,onAssetModalHandler:j},t),showInlineSimilarity:h},r)),(0,a.jsx)(I,(0,i._)({},S)),(0,a.jsx)(T,(0,i._)({onAddToCollectionsComplete:m},P)),(0,a.jsx)(x,(0,n._)((0,i._)({},E),{hideAddToCart:v,showActionIcons:!0})),(0,a.jsx)(y,(0,i._)({},C))]})},g=r(48976),y=r(79487),b=e=>{var{setThroughProvider:t,assets:r,isBrandSstk:s}=(0,o.N)(),{isBrandEnterprise:l}=(0,g.P)(),d=(0,y.a)(),{assets:c}=e,u=t?r:c;switch("".concat(d?"MOBILE":"DESKTOP","_").concat((t?s:!l)?"ECOMM":"ENTERPRISE")){case"MOBILE_ENTERPRISE":case"DESKTOP_ENTERPRISE":return(0,a.jsx)(h,(0,n._)((0,i._)({},e),{assets:u}));default:return(0,a.jsx)(_,(0,n._)((0,i._)({},e),{assets:u}))}}},62536:(e,t,r)=>{r.d(t,{z:()=>S,k:()=>T});var i=r(49253),n=r(31085),a=r(44537),o=r(23297),s=r(14041),l=r(51895),d=r(96353),c=r(83894),u=r.n(c)()(()=>Promise.all([r.e(27510),r.e(6885),r.e(88229),r.e(35759),r.e(47377),r.e(32683),r.e(27273)]).then(r.bind(r,71694)).then(e=>({default:e.AddToCartDialog})),{loadableGenerated:{webpack:()=>[71694]},ssr:!1}),v=e=>{var{isActive:t}=e,r=(0,d._)(e,["isActive"]);return(0,o.G)(t)&&(0,n.jsx)(u,(0,l._)({isActive:t},r))},m=r(91025),p=r(3319),_=r(88863),f=r(94722),h=r(25888),g=r(35841),y=r(75096),b=r(48976),C=r(74299),w=e=>{var{status:t,isSizeLimitWarning:r,alertLabels:i}=e;return r?i.sizeLimitWarning:t===h.qO?i.addToCartSuccess:i.addToCartWarning},I=e=>{var{isOpen:t,isSizeLimitWarning:r=!1,addToCartStatus:i,snackBarActionAllowed:a=!0,handleSnackbarClose:o}=e,{t:s}=(0,C.Bd)(p.evH),{status:d,error:c}=i,u={addToCartSuccess:s("common:actions_added_to_cart"),addToCartWarning:s("notifications:label_add_to_cart_failure"),sizeLimitWarning:s("ent:cart_size_limit_warning",{LIMIT:g.Zm}),viewActionLabel:s("common:actions_view")},v=w({status:d,isSizeLimitWarning:r,alertLabels:u}),{isBrandEnterprise:I}=(0,b.P)(),{viewCartAction:A}=(0,_.Z)(),S=(0,y.Y)(),T={onClick:()=>{o(),I?S():A()},label:u.viewActionLabel};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(f.DynamicSnackbar,(0,m._)((0,l._)({},i.status===h.qO&&a&&{alertAction:T}),{alertSeverity:d,error:c,handleSnackbarClose:o,isOpen:t&&!!d,message:v}))})},A={status:"",error:void 0},S=e=>{var{addToCartStatus:t=A,assets:r=null,eventLabel:i,gridItems:a=null,isAddToCartDialogActive:s,isPrimary:l,isSnackBarOpen:d,isSizeLimitWarning:c,onAddToCart:u,onAlertSnackbarClose:m,setIsAddToCartDialogActive:p,pageSection:_,listId:f,snackBarActionAllowed:h=!0}=e;return(0,o.G)(r)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{assets:r,eventLabel:i,gridItems:a,isActive:s,isPrimary:l,listId:f,onAddToCart:u,pageSection:_,setIsActive:p}),(0,n.jsx)(I,{snackBarActionAllowed:h,addToCartStatus:t,handleSnackbarClose:m,isOpen:d,isSizeLimitWarning:c})]}):null},T=function(){var e,t,{withOptimisticUpdate:r=!0,setIsVerifying:n,snackBarActionAllowed:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[v,m]=(0,s.useState)(null),[p,_]=(0,s.useState)(null),[f,h]=(0,s.useState)(!0),[g,y]=(0,s.useState)(null),[b,C]=(0,s.useState)(null),[w,I]=(0,s.useState)(null),{addCartItems:A,moveToSaveForLater:T,moveToPrimary:k,addToCartStatus:P,isSizeLimitWarning:x,notAddedSelectVideos:E}=(0,a.Nc)();(0,s.useEffect)(()=>()=>m(null),[]);var j=(0,s.useCallback)(e=>{var{assets:t,eventLabel:i,licenseId:a,formatType:o,licensePrice:s,cart:l,mutateCart:d,notAddedSelectVideoIds:c,pageSection:m,listId:_}=e;null==n||n(!0),u(!0),A({cart:l,eventLabel:i,gridItems:p,isPrimary:f,itemsToAdd:t||v,licenseId:a,formatType:o,licensePrice:s,mutateCart:d,notAddedSelectVideoIds:c,withOptimisticUpdate:r,pageSection:m,listId:_})},[v,p,A,f,n,r]),N=(0,s.useCallback)((e=(0,i._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:i,mutateSavedForLaterCart:a}=e;null==n||n(!0),u(!0);try{yield k({itemsToMove:t,primaryCart:r,mutatePrimaryCart:i,mutateSavedForLaterCart:a})}catch(e){null==n||n(!1)}}),function(t){return e.apply(this,arguments)}),[k,n]),U=(0,s.useCallback)((t=(0,i._)(function*(e){var{itemsToMove:t,primaryCart:r,savedForLaterCart:i,mutatePrimaryCart:a,mutateSavedForLaterCart:o}=e;null==n||n(!0),u(!0);try{yield T({itemsToMove:t,primaryCart:r,savedForLaterCart:i,mutatePrimaryCart:a,mutateSavedForLaterCart:o})}catch(e){null==n||n(!1)}}),function(e){return t.apply(this,arguments)}),[T,n]);return{addToCartViewsProps:(0,s.useMemo)(()=>({addToCartStatus:P,assets:v,eventLabel:w,gridItems:p,isAddToCartDialogActive:l,isPrimary:f,isSizeLimitWarning:x,isSnackBarOpen:c,onAddToCart:j,onAlertSnackbarClose:()=>u(!1),notAddedSelectVideos:E,setIsAddToCartDialogActive:d,pageSection:g,listId:b,snackBarActionAllowed:o}),[v,p,P,w,b,g,l,f,x,c,E,j,o]),addToCartViewsHandler:(0,s.useCallback)(e=>{var{assets:t,eventLabel:r,gridItems:i,isMoveToPrimaryCart:n=!1,isMoveToSavedForLaterCart:a=!1,isPrimaryCart:o=!0,mutatePrimaryCart:s,mutateSavedForLaterCart:l,primaryCart:c,savedForLaterCart:u,withDialog:v=!0,licenseId:p,licensePrice:f,pageSection:g,listId:b}=e;if(m(t),h(o),y(g),I(r),C(b),i&&_(i),n){N({itemsToMove:t,primaryCart:c,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}if(a){U({itemsToMove:t,primaryCart:c,savedForLaterCart:u,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}v?d(!0):j({assets:t,eventLabel:r,cart:c,licenseId:p,licensePrice:f,mutateCart:s,pageSection:g})},[j,N,U]),AddToCartViews:S}}},47700:(e,t,r)=>{r.d(t,{x:()=>N});var i=r(49253),n=r(3319),a=r(55228),o=r(77427),s=r(24091),l=r(66969),d=r(10799),c=r(43336),u=r(2664),v=r(50717),m=r(74299),p=r(14041),_=r(31085),f=r(83079),h=r(51895),g=r(96353),y=r(23297),b=r(83894),C=r.n(b),w=C()(()=>Promise.all([r.e(27510),r.e(3530)]).then(r.bind(r,40543)).then(e=>({default:e.CompLicensingDialog})),{loadableGenerated:{webpack:()=>[40543]},ssr:!1}),I=e=>{var{isOpen:t}=e,r=(0,g._)(e,["isOpen"]);return(0,y.G)(t)&&(0,_.jsx)(w,(0,h._)({isOpen:t},r))},A=C()(()=>Promise.all([r.e(27510),r.e(6885),r.e(35759),r.e(47377),r.e(2201),r.e(25133)]).then(r.bind(r,67047)).then(e=>({default:e.CompLicensingDrawer})),{loadableGenerated:{webpack:()=>[67047]},ssr:!1}),S=e=>{var{isOpen:t}=e,r=(0,g._)(e,["isOpen"]);return(0,y.G)(t)&&(0,_.jsx)(A,(0,h._)({isOpen:t},r))},T=C()(()=>r.e(55459).then(r.bind(r,97042)).then(e=>({default:e.CompLicensingSnackbar})),{loadableGenerated:{webpack:()=>[97042]},ssr:!1}),k=e=>{var{isOpen:t}=e,r=(0,g._)(e,["isOpen"]);return(0,y.G)(t)&&(0,_.jsx)(T,(0,h._)({isOpen:t},r))},P=r(51778),x=function(){var{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,m.Bd)(n.mAv);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,P.KC)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,_.jsx)(m.x6,{i18nKey:"ent:comp_disclaimer",ns:n.mAv,components:{bold:(0,_.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},E=e=>{var{assets:t=null,compLicensingHandler:r,isDialogOpen:i=!1,isDrawerOpen:n=!1,isLicensing:a=!1,isSnackBarOpen:o=!1,licensingError:s=f.vB,onDialogClose:l,onDrawerClose:d,onSnackbarClose:c,selectedAssetSize:u="",setSelectedAssetSize:v,settingsData:m=f.vB}=e,p=x({licensingError:s});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(I,{assets:t,isOpen:i,onClose:l,onLicense:r,labels:p,isLicensing:a,selectedAssetSize:u,setSelectedAssetSize:v,settingsData:m}),(0,_.jsx)(S,{assets:t,isLicensing:a,isOpen:n,labels:p,onClose:d,onLicense:r,selectedAssetSize:u}),(0,_.jsx)(k,{isOpen:o,message:p.licensingError,onClose:c})]})},j=r(53117),N=function(){var e,t,r,{allowMetadata:_=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[f,h]=(0,p.useState)(null),[g,y]=(0,p.useState)(""),[b,C]=(0,p.useState)(""),[w,I]=(0,p.useState)(!1),[A,S]=(0,p.useState)(!1),[T,k]=(0,p.useState)(!1),{isLicensing:P,licensingError:x,licensingStatus:N,setLicensingStatus:U,licensingAssetsHandler:z}=(0,u.mA)(),O=(0,s.$)(),{data:M}=(0,v.M)(),D=(0,c.Y)(M),R=(0,a.Q)(),{t:B}=(0,m.Bd)(n.EJ3),L=B("file_name_edited"),{getSearchContext:F}=(0,l.J)(),{queueIpReview:q}=(0,d.F)({trackingId:null===(r=F())||void 0===r?void 0:r.search_tracking_id}),G=(0,p.useCallback)((e=(0,i._)(function*(e){var{assets:t=[],assetSize:r,eventLabel:i,format:n,metadata:a,pageSection:o,listId:s}=e;y(t[0].id);var l=!1;try{var d=yield(0,j.lw)({assets:t,assetSize:r,format:n,metadata:a,selectedAssetSize:b}),{data:c}=yield z(d);if(!((0,j.CN)(t)&&1===t.length)){var u,v,m=(0,j.sD)(t)?D:void 0,p=(null==R?void 0:null===(u=R.current)||void 0===u?void 0:u.isPeacock)?e=>{var r;return R.current.downloader.resolveUrl(t[0],e,L,null==c?void 0:null===(r=c.meta)||void 0===r?void 0:r.licensedContent)}:void 0;yield(0,j.jZ)({assets:t,compSize:m,licensedContent:null==c?void 0:null===(v=c.meta)||void 0===v?void 0:v.licensedContent,downloader:p}),O({assets:t,eventLabel:i,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:o,listId:s})}}catch(e){l=e}return q(t),y(""),l&&!A&&k(!0),{error:l}}),function(t){return e.apply(this,arguments)}),[A,D,z,O,b,L,R,q]),Y=(0,p.useCallback)((t=(0,i._)(function*(e){var{assets:t,assetSize:r,format:i,eventLabel:n,metadata:a,pageSection:s,listId:l}=e;return(h(t),U(""),!w&&(0,o.wy)(t))?(I(!0),Promise.resolve(null)):!A&&(null==M?void 0:M.requireMetadataForComp)&&!a&&_?(r&&C(r),S(!0),Promise.resolve(null)):G({assets:t,assetSize:r,eventLabel:n,format:i,metadata:a,pageSection:s,listId:l})}),function(e){return t.apply(this,arguments)}),[_,G,w,A,M,U]),Z=(0,p.useMemo)(()=>({assets:f,compLicensingHandler:Y,compLicensingRequest:G,isDialogOpen:w,isDrawerOpen:A,isLicensing:P,isSnackBarOpen:T,licensingError:x,onDialogClose:()=>I(!1),onDrawerClose:()=>S(!1),onSnackbarClose:()=>k(!1),selectedAssetSize:b,setSelectedAssetSize:C,settingsData:M}),[f,Y,G,w,A,P,T,x,b,M]);return{assetsToLicense:f,compLicensingHandler:Y,compLicensingProps:Z,CompLicensingViews:E,licensingAssetId:g,licensingStatus:N}}},53117:(e,t,r)=>{r.d(t,{CN:()=>b,e4:()=>_,jZ:()=>f,lw:()=>y,sD:()=>C});var i=r(49253),n=r(51895),a=r(91025),o=r(29380),s=r(63870),l=r(45182),d=r(93255),c=r(27374),u=r(39385),v=r(87669),m=r(70933),p=r(74490),_=function(){var e=(0,i._)(function*(e){var{assets:t,compSize:r,licensedContent:i,supplementalUrlType:n}=e,{downloadUrl:a,contentId:o,contentFormat:l,contentSize:d,supplementalUrls:u}=i[0]||{};if((null==u?void 0:u.length)&&n){var{url:m=a}=u.find(e=>{var{type:t}=e;return t===n})||{};return m}var _=t.find(e=>{var{id:t}=e;return t===o})||{},f=(0,v.f0)(_),{filename:h,shouldUpdateFilename:g}=(0,c.V)({assets:t,contentId:o});if(g)try{var{data:y}=yield p.Bn.post((0,s.Xt)().formattedUrl,{data:[{media_id:_.id,media_type:f,comp_size:r,media_size:d,media_format:l,filename:h}]}),{attributes:b}=(null==y?void 0:y.data[0])||{};return b.url||a}catch(e){}return a});return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,i._)(function*(e){var{assets:t=[],compSize:r,assetSize:i,licensedContent:n=[],downloader:a=m.Bx}=e;if(n.length>1){var s=(0,c.P)({assets:t,licensedContent:n}),l=(0,o.E)({urlParams:{filename:s.bundleFilename}}).formattedUrl,{data:d}=yield p.a8.post(l,s.content),{public_url:u}=d;return a(u)}return a((yield _({assets:t,compSize:r,assetSize:i,licensedContent:n})))});return function(t){return e.apply(this,arguments)}}(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{var t=(0,u.xB)({asset:e});return(0,a._)((0,n._)({},e),{assetType:t,licenseId:d.H8E[t]})})},g=function(){var e=(0,i._)(function*(){var{url:e}=(0,s.PX)();try{return(yield p.Bn.get(e).then(e=>null==e?void 0:e.data)).reduce((e,t)=>(0,a._)((0,n._)({},e),{[t.name]:"-"}),{})}catch(e){return{}}});return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,i._)(function*(){var{assets:e,assetSize:t,format:r,metadata:i,selectedAssetSize:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i;return a||(a=yield g()),{assets:h(e),format:r||"",licenseMetadata:a,licensingType:d.jO3,selectedAssetSize:t||n||"",isVideoComp:!0}});return function(){return e.apply(this,arguments)}}(),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,u.ZC)({asset:e[0]||{}})===l.FY},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[l.vo,l.W1,l.kc].includes((0,u.ZC)({asset:e[0]||{}}))}},56880:(e,t,r)=>{r.d(t,{p:()=>n});var i=r(83894),n=r.n(i)()(()=>Promise.all([r.e(27510),r.e(74782)]).then(r.bind(r,29086)).then(e=>({default:e.SignUpModal})),{loadableGenerated:{webpack:()=>[29086]},ssr:!1})},88863:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(76652),n=r(75096),a=r(79487),o=()=>{var e=(0,a.a)(),t=(0,n.Y)(),{openQuickViewCart:r}=(0,i.m)();return{viewCartAction:e?t:r}}},27374:(e,t,r)=>{r.d(t,{P:()=>d,V:()=>l});var i=r(87669),n=r(80546),a="shutterstock",o="shutterstock_editorial",s=e=>{var{asset:t}=e;return(0,i.Uh)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,i.zz)({asset:t})?{prefix:o,shouldUpdateFilename:!1}:{prefix:a,shouldUpdateFilename:!1}},l=e=>{var{assets:t,contentId:r}=e,{prefix:i,shouldUpdateFilename:n}=s({asset:t.find(e=>{var{id:t}=e;return t===r})||{}});return{filename:"".concat(i,"_").concat(r),shouldUpdateFilename:n}},d=e=>{var{assets:t=[],licensedContent:r=[]}=e,s=t.every(e=>(0,i.zz)({asset:e})),d=r.map(e=>{var{contentId:r,downloadUrl:i,contentFormat:n}=e,{filename:a}=l({assets:t,contentId:r}),o=i.split("/").pop().split(".").pop();return(o.length>4||o.length<2)&&(o=n),{filename:"".concat(a,".").concat(o),url:i}}),c=(0,n.kX)();return{bundleFilename:"".concat(s?o:a,"_").concat(c,".zip"),content:d}}},51824:(e,t,r)=>{r.d(t,{$R:()=>b,Bq:()=>I,HD:()=>g,KS:()=>y,NS:()=>u,Ox:()=>v,bc:()=>A,nu:()=>m,sI:()=>p});var i=r(51895),n=r(91025),a=r(45182),o=r(35841),s=r(50581),l=r(74875),d=r(51778),c=r(87669),u=e=>{var{licenseName:t,cartData:r,asset:i}=e;return t?!!(null==r?void 0:r.items.find(e=>e.id===(null==i?void 0:i.id)&&e.licenseId===t)):!!(null==r?void 0:r.items.find(e=>e.id===(null==i?void 0:i.id)))},v=e=>{var{asset:t,unavailableAssets:r}=e;return!r.find(e=>e.contentId===(0,c.qQ)({asset:t})&&e.contentType===t.type)},m=function(){var{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>s.S_.includes(e))},p=e=>{var{cachedCart:t,newItems:r}=e,a=[...(null==t?void 0:t.items)||[],...r];return(0,n._)((0,i._)({},t),{items:a,count:a.length})},_=e=>{var{item:t,licensedAssets:r}=e;return(null==r?void 0:r.find(e=>{var{contentId:r}=e;return r===String(t.id)}))?0:t.isUnlimited?.1:parseFloat(t.price)},f=e=>{var{item1:t={},item2:r={},sortOrder:i,licensedAssets:n}=e,a=_({item:t,licensedAssets:n}),o=_({item:r,licensedAssets:n});return i===l.Zy?a-o:o-a},h=e=>{var{item1:t,item2:r,sortField:i="addedTime",sortOrder:n}=e;return n===l.Zy?Number(new Date(r[i]))-Number(new Date(t[i])):Number(new Date(t[i]))-Number(new Date(r[i]))},g=e=>{var{primaryCart:t,sortField:r,sortOrder:i,alreadyLicensedPrimaryAssets:n}=e;return t.sort((e,t)=>r===o.v3.ADDED_TIME?h({item1:e,item2:t,sortField:r,sortOrder:i}):f({item1:e,item2:t,sortField:r,sortOrder:i,licensedAssets:n}))},y=e=>{var t,{rolodexAddress:r}=e,[i,n]=(null===(t=r.streetLines)||void 0===t?void 0:t.split("\n"))||[],{locality:a,postalCode:o,region:s,country:l,company:d}=r;return{country:l,company:d,city:a,zip:o,state:s,address1:i,address2:n}},b=e=>{var t,{billingEntity:r}=e;return(null==r?void 0:null===(t=r.rolodexAddresses)||void 0===t?void 0:t.find(e=>{var t;return"licensing"===e.addressType||(null===(t=e.usages)||void 0===t?void 0:t.includes("licensing"))}))||{}},C=e=>{var{asset:t,alreadyLicensedAssets:r}=e;return(null==t?void 0:t.price)===a.Mp||(0,d.en)({alreadyLicensedAssets:r,asset:t})},w=e=>{var{acc:t,asset:r,alreadyLicensedAssets:i}=e;return C({asset:r,alreadyLicensedAssets:i})?t:t+parseFloat(null==r?void 0:r.price)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{var{isUnavailableAsset:t}=e;return!t}).reduce((e,r)=>w({acc:e,asset:r,alreadyLicensedAssets:t}),0):0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{var{price:t}=e;return t===a.Mp})?a.Mp:I(e,t)}},51778:(e,t,r)=>{r.d(t,{As:()=>v,J_:()=>u,KC:()=>h,Wk:()=>f,en:()=>p,fy:()=>b,nR:()=>g,uO:()=>m,ul:()=>C,zZ:()=>y});var i=r(51895),n=r(91025),a=r(21347),o=r(45182),s=r(55185),l=r(93255),d=r(87669),c=r(39385),u=e=>{var t,r,{license:i,existingAssetsLicenses:n}=e;if(!n)return!((null==i?void 0:i.licenseName)&&l.t9I.includes(null==i?void 0:i.licenseName))&&n;var a=(0,c.xB)({asset:i.mediaItem});return!!(null==n?void 0:null===(t=n[null===(r=i.mediaItem)||void 0===r?void 0:r.id])||void 0===t?void 0:t.some(e=>e!==l.H8E[a]))},v=e=>{var{subscriptions:t=[]}=e;return t.some(e=>{var{redeemableFor:t}=e;return l.E11.some(e=>e===t)})?l.Ngi:l.jH2},m=e=>e.reduce((e,t)=>{var r=t.licenseId;return e.includes(r)||e.push(r),e},[]),p=e=>{var{alreadyLicensedAssets:t,asset:r}=e;return!!t.find(e=>{var{contentId:t,contentType:i,licenseId:n}=e,a=r.type===o.W1?o.vo:r.type;return t===r.id&&i===a&&n===r.licenseId})},_=e=>{var{licenseType:t,existingLicenses:r,asset:i,isSelect:n=!1}=e,a=["footage_".concat(t,"_sd"),"footage_".concat(t,"_hd")],o=[...a,"footage_".concat(t,"_lowres")];return(n&&a.push("footage_".concat(t,"_4k")),i.licenseId==="footage_".concat(t,"_sd"))?null==r?void 0:r.some(e=>!!a.includes(e)):i.licenseId==="footage_".concat(t,"_lowres")&&(null==r?void 0:r.some(e=>!!o.includes(e)))},f=e=>{var t,{existingLicenses:r,asset:i}=e;switch(i.type){case o.BI:case o.G_:if(l.dO2.some(e=>_({asset:i,licenseType:e,existingLicenses:r})))return!0;return!!(null==r?void 0:r.includes(i.licenseId));case o.W1:default:return!!(null==r?void 0:r.includes(null===(t=i.licenseId)||void 0===t?void 0:t.replace(/_unlimited/,"")))}},h=e=>{var{error:t={},t:r}=e,{meta:i={}}=t;if((null==i?void 0:i.exception_type)===l.o__){var{value:n}=i.errors.slice(-1).pop(),a="comp_limit"===n.name;return r("P1M"===n.period_length?a?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":a?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return r("ent:license_now_error_message")},g=e=>{var{error:t={},user:r={}}=e,{detail:i,headers:n={},message:a,meta:o={},name:d,source:c={},title:u}=t,{id:v,username:m,organizationId:p}=r||{},_=null==o?void 0:o.exception_type,f=(null==c?void 0:null===(h=c.request)||void 0===h?void 0:h.id)||(null==n?void 0:n[s.A2]);switch(_){case l.o__:var h,g,y,b=null===(y=o.errors)||void 0===y?void 0:y.map(e=>{var{value:t}=e;return null==t?void 0:t.name});g="".concat(u,": ").concat(b.join(","));break;case l.Bxr:var C,w=null===(C=o.errors)||void 0===C?void 0:C.map(e=>{var{code:t,value:r}=e;return"".concat(t,": ").concat(null==r?void 0:r.content_type," - ").concat(null==r?void 0:r.content_id," - ").concat(null==r?void 0:r.content_size)});g="".concat(u,": ").concat(w.join(","));break;default:g=[_,u,i,a,d].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:p,userId:v,username:m,errorSummary:g,error:t,requestId:f}},y=e=>{var{organizationId:t}=e;return"organization-".concat(t)},b=e=>{var{isEligibilityLoading:t,existingCurrentAssetLiceses:r}=e;return t?void 0:r||[]},C=e=>{var{asset:t,selectedLicenseId:r,activeFormatType:o,selectedShadowsOption:s}=e;return(0,i._)((0,n._)((0,i._)({},t),{itemType:t.itemType||(0,c.Qk)({asset:t}),licenseId:r}),o===a.kr&&{licenseAsJpeg:!0},(0,d.R1)(t)?{selectedFormatType:o,selectedShadowsOption:s}:{})}},4419:(e,t,r)=>{r.d(t,{l:()=>n});var i=r(63522),n=e=>{var t,{user:r}=e;return null==r?void 0:null===(t=r.roles)||void 0===t?void 0:t.includes(i.lc)}},95680:(e,t,r)=>{r.d(t,{h:()=>d});var i=r(58837),n=r(98870),a=r(4079),o=r(93703),s=r(62719),l=e=>{var{acc:t,totalCostOfItems:r,amountRemaining:n,totalAmount:a,bypassLowBalance:o=!1}=e;return o||(r>n&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=r-n),!t.hasInsufficientSubscriptionCredits&&n<=a*i.O7&&(t.hasLowDebitableBalance=!0)),t},d=e=>{var{items:t,subscriptions:r,subscription:d,hasWrapperSubscription:c=!0}=e;if(t&&t.length){var u={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:i.EV};return t.reduce((e,t)=>{var u,{licenseId:v,price:m}=t,p=(0,a.W)({assets:[t]}),_=d||(0,s.A)({subscriptions:null===(u=(0,o.s)({assetType:p,subscriptions:r}))||void 0===u?void 0:u.subscriptions,licenseName:v,assetType:p})||{},{totalAmount:f,amountRemaining:h,amountType:g,amount:y}=(0,n.hY)(_);e.amountType=g;var b=parseFloat(m),C=parseFloat(e.total)+b;if(e.total+=b,g===i.zy){var w=parseFloat(y),I=parseFloat(e.totalCreditAmount)+w;return e.totalCreditAmount+=w,l({acc:e,totalCostOfItems:I,amountRemaining:h,totalAmount:f,bypassLowBalance:!c})}return l({acc:e,totalCostOfItems:C,amountRemaining:h,totalAmount:f,bypassLowBalance:!c})},u)}var v=r||{},m=Object.keys(v).find(e=>Array.isArray(v[e])&&v[e].length),p=m&&(0,n.j6)({subscriptions:v[m]||[]})[0]||{},{totalAmount:_,amountRemaining:f,amountType:h}=(0,n.hY)(p);return{amountType:h,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:f<=_*i.O7,insufficientAmount:null}}},95109:(e,t,r)=>{r.d(t,{E:()=>s});var i=r(58837),n=r(98870),a=r(75292),o=r(95680),s=e=>{var t,{items:r,isLoading:s,subscription:l,subscriptions:d,userCapabilities:c}=e;return s?{}:(l&&(t=l.creditType),d&&d.length>0&&(t=d[0].creditType),(0,n.fY)({userCapabilities:c})?(0,o.h)({items:r,subscription:l,subscriptions:d,hasWrapperSubscription:(0,n.GT)({userCapabilities:c})}):{amountType:t||i.EV,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:l&&0===(0,a.J)({subscription:l}),insufficientAmount:null})}},70143:(e,t,r)=>{r.d(t,{q:()=>o});var i=r(58837),n=r(87669),a=r(58838),o=e=>{var{uniqueSubscription:t}=e;if(!t)return{};var{priceAsAbsolute:r,creditCurrency:o,product:s}=t,l=(0,a.t)({subscription:t}),d=null!=o?o:null==s?void 0:s.currency;if(!r){var{creditPrice:c,creditType:u=i.EV}=t;return{price:"".concat((0,n.YO)({price:c,isUnlimited:l})),priceType:u,currency:d}}var{price:v,priceType:m}=r;return{price:"".concat((0,n.YO)({price:v,isUnlimited:l})),priceType:m,currency:d}}},29037:(e,t,r)=>{r.d(t,{f:()=>c});var i=r(51895),n=r(91025),a=r(45182),o=r(55802),s=r(66969),l=r(18227),d=r(14041),c=()=>{var{analytics:e}=(0,l.pn)(),{getSearchContext:t}=(0,s.J)(),r=(0,d.useCallback)(t=>{var{cartId:r,items:i}=t,n=(i||[]).map((e,t)=>(0,o.Aj)({asset:e,cartId:r,index:t})),a=n.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:n,cartId:r,cartTotal:Math.round(100*a.totalPrice)/100,numItemsBilledToCard:a.toBeBilled,shouldCheckout:a.totalPrice>0,shouldDownload:n.length>0&&0===a.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,d.useCallback)(r=>{var{cart:i,eventLabel:n,gridItems:a,items:s,licenseId:l,licensePrice:d,listId:c,pageSection:u}=r;e.productAdded({products:s.map(e=>(0,o.Un)({asset:e,cartData:i,getSearchContext:t,gridItems:a,licenseId:l,licensePrice:d,pageSection:u})),eventLabel:n,list_id:null!=c?c:""})},[e,t]),productRemovedAnalyticsEvent:(0,d.useCallback)(r=>{var{cart:s,eventLabel:l,gridItems:d,items:c,listId:u,matchingCartItem:v,pageSection:m}=r;if(v){var[p]=c;e.productRemoved((0,n._)((0,i._)({},(0,o.Un)({asset:p,cartData:s,getSearchContext:t,gridItems:d,pageSection:m})),{price:v.price===a.Mp?0:Number(v.price),variant:v.licenseId,eventLabel:l,list_id:null!=u?u:""}))}else e.productRemoved({products:c.map(e=>(0,o.Un)({asset:e,cartData:s,getSearchContext:t,gridItems:d,pageSection:m})),eventLabel:l,list_id:null!=u?u:""})},[e,t]),cartViewedAnalyticsEvent:r}}},10799:(e,t,r)=>{r.d(t,{F:()=>f});var i=r(49253),n=r(51895),a=r(91025),o=r(71765),s=r(65288),l=r(39857),d=r(48976),c=r(85322),u=r(61491),v=r(92044),m=function(){var e=(0,i._)(function*(e){var{items:t,trackingId:r}=e;0!==t.length&&(yield(0,v.A)("/message-gateway/ip-review",(0,a._)((0,n._)({method:"POST",requireAuth:!0},(0,u.H)({trackingId:r})),{body:{media:t.map(e=>({mediaId:e}))}})))});return function(t){return e.apply(this,arguments)}}(),p=r(93402),_=r(14041),f=function(){var e,{trackingId:t="",updateRequestCache:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,c.s)("/"),{isBrandEnterprise:v}=(0,d.P)(),f=(0,p.jE)();return{queueIpReview:(0,_.useCallback)((e=(0,i._)(function*(e){if(v){var i,d,c=(Array.isArray(e)?e:[e]).reduce((e,t)=>(0,s.iu)(t)?[...e,String(t.id)]:e,[]);if(c.length){var p=(yield f.fetchQuery({queryKey:(0,l.IF)({assetIds:c}),queryFn:e=>{var{queryKey:t}=e;return(0,l.tz)(u,t)}})).reduce((e,t)=>(null==t?void 0:t.isIpReviewed)===!1&&(null==t?void 0:t.ipReviewStatus)!==o.eG?[...e,t]:e,[]);try{if(p.length){yield m({items:p.map(e=>null==e?void 0:e.classicId),trackingId:t});var _=p.map(e=>(f.setQueryData(e.queryKey,[(0,a._)((0,n._)({},e),{isIpReview:!1,ipReviewStatus:o.eG})]),f.invalidateQueries({queryKey:e.queryKey,predicate:t=>{var{queryKey:r}=t;return r===e.queryKey}})));yield Promise.all([...r?[r({reviewStatus:o.eG})]:[],..._])}}catch(e){null===(d=window.NREUM)||void 0===d||null===(i=d.noticeError)||void 0===i||i.call(d,e,{message:"Error adding assets to queue for IP review: ".concat(p.map(e=>null==e?void 0:e.classicId).join(", "),"\ntrackingId: ").concat(t)})}}}}),function(t){return e.apply(this,arguments)}),[v,f,u,t,r])}}},43336:(e,t,r)=>{r.d(t,{Y:()=>a});var i=r(4419),n=r(36908),a=e=>{var{data:t}=(0,n.rA)();return(0,i.l)({user:t})?null==e?void 0:e.compSizeImage:null==e?void 0:e.compSizeSubImage}},2664:(e,t,r)=>{r.d(t,{mA:()=>es});var i=r(49253),n=r(51895),a=r(91025),o=r(63870),s=r(25888),l=r(45182),d=r(83507),c=r(55185),u=r(93255),v=r(58837),m=r(18923),p=r(55802),_=r(22714),f=r(39385),h=r(51778),g=r(11838),y=r(61491),b=r(13847),C=r(58838),w=r(1134),I=r(62719),A=r(66969),S=r(18227),T=r(14041),k=()=>{var{analytics:e}=(0,S.pn)(),{getSearchContext:t}=(0,A.J)();return(0,T.useCallback)(r=>{var{assets:i=[]}=r,n=t(i[0]);e.productLicensed({products:i.map(e=>(0,p.Un)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:n})},[e,t])},P=r(48946),x=r(48976),E=r(87669),j=r(74490),N=e=>{var t,{assets:r}=e,i=(0,E.f0)(r[0]);return{include:"subscriptions",content_type:(0,f.Uw)({assetType:i,assetId:null===(t=r[0])||void 0===t?void 0:t.id}),content_ids:r.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},U=e=>{var{assets:t}=e,r={};return t.forEach(e=>{var t=(0,E.f0)(e),i=(0,f.Uw)({assetId:e.id,assetType:t});r[i]=[...r[i]?r[i]:[],e]}),r},z=e=>{var{assetEligibility:t}=e,{permittedLicenses:r,subscriptions:i}=t;return null==i?void 0:i.filter(e=>{var{license:t}=e;return r.includes(t.replace("_unlimited",""))})},O=e=>{var t,{assets:r=[],user:i}=e;return null===(t=Object.values(U({assets:r})))||void 0===t?void 0:t.map(e=>{var t=N({assets:e}),{formattedUrl:r}=(0,o.kE)({urlParams:{licenseeIdentifier:"organization-".concat(null==i?void 0:i.organizationId)},queryParams:t});return j.Bn.get(r)})},M=e=>{var{data:t}=e,r=[];return t.map(e=>{var t=e.id.split("-"),i=t[t.length-1],n=z({assetEligibility:e});return r.push({assetId:i,subscriptions:n})}),r},D=r(36908),R=r(5067),B=r(34559),L=r(15004),F=r(57518),q=r(3319),G=r(23415),Y=r(9444),Z=r(10428),W=r(51824),H=r(50717),V=r(86667),J=r(60932),K=r(22717),Q=r(74299),X=new RegExp(Z.X),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:r}=e;return t&&r?r.split(",").filter(e=>X.test(e)):[]},ee=e=>{var{purchaseOrder:t}=e;return"".concat(null==t?void 0:t[0]," : ").concat(null==t?void 0:t[1]).split(" ").map(e=>(0,K.Z)(e)).join(" ")},et=e=>{var{t,keys:{currentYear:r,emailAddress:i,purchaseOrder:n}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:r}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:i}),emailSubjectLine:"".concat(t("ent:order_confirmation_email_subject")," | ").concat(ee({purchaseOrder:n})),name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},er=()=>{var{t:e}=(0,Q.Bd)(q._RK),{data:t}=(0,D.rA)(),{data:r}=(0,V.M)(),{data:i}=(0,H.M)(),{name:n,email:a,phone:o}=(0,J.e)({fetchTrigger:!0})||{},{locale:s,fullLocale:l}=(0,m.PZ)(),d=(0,P.Z)();return{sendOrderConfirmationEmails:(0,T.useCallback)(function(){var{cartTotalCurrency:c,filteredOrderMetadata:u,licenseMetadata:v,priceType:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[...(null==r?void 0:r.emailCartCheckoutConfirmation)?[null==t?void 0:t.email]:[],...$(i)];if(p.length&&(null==u?void 0:u.length)){var _,f,h,g,y=et({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:null==t?void 0:t.email,purchaseOrder:Object.entries(v)[0],repName:n,repPhoneNumber:o,repEmail:a}});try{var b={cartItems:u,fullName:null==t?void 0:t.fullName,invoiceDate:new Intl.DateTimeFormat(l).format(new Date),labels:y,licenseMetadata:v,repEmail:a,repName:n,repPhoneNumber:o,totalAmount:d({price:(0,W.bc)(u,[]),localeCurrencyOverride:c,priceType:m}),username:null==t?void 0:t.username};j.Y$.post((0,G.J9)().formattedUrl,{emails:[...new Set(p)],emailBody:b,emailSubject:"".concat(y.emailSubjectLine),language:s})}catch(e){null===(f=window.NREUM)||void 0===f||null===(_=f.setTransactionName)||void 0===_||_.call(f,"sendOrderConfirmationEmail/".concat(Y.o5)),null===(g=window.NREUM)||void 0===g||null===(h=g.noticeError)||void 0===h||h.call(g,e,{message:"Failed sending order confirmation emails to: ".concat(p.join(", "))})}}},[l,s,i,d,a,n,o,e,null==t?void 0:t.email,null==t?void 0:t.fullName,null==t?void 0:t.username,null==r?void 0:r.emailCartCheckoutConfirmation])}},ei=r(69200),en={[u.jO3]:o.DH,[u.miZ]:o.E6},ea=e=>{var t,r,{asset:i,subscriptions:n}=e,a=(0,f.ZC)({asset:i}),{licenseId:o,contentTier:s}=i;switch(a){case l.G_:return(0,w.N)({assetType:l.G_,subscriptions:[...null!==(t=null==n?void 0:n.videoSubscriptions)&&void 0!==t?t:[],...null!==(r=null==n?void 0:n.videoCompSubscriptions)&&void 0!==r?r:[]],selectedLicenseId:o});case l.on:case l.FY:return(0,I.A)({subscriptions:[...n.musicSubscriptions,...n.musicCompSubscriptions],licenseName:i.licenseId});case l.M9:return(0,I.A)({subscriptions:[...n.sfxSubscriptions,...n.sfxCompSubscriptions],licenseName:i.licenseId});case l.uH:return(0,I.A)({subscriptions:[...n.editorialImageSubscriptions,...n.editorialImageCompSubscriptions,...n.editorialVideoSubscriptions,...n.editorialVideoCompSubscriptions],licenseName:i.licenseId,contentTier:s});case l.W1:default:return(0,I.A)({subscriptions:[...n.imageSubscriptions,...n.imageCompSubscriptions],licenseName:i.licenseId,contentTier:s})}},eo=e=>{var{asset:t,subscriptions:r}=e,i=ea({asset:t,subscriptions:r});return(0,C.t)({subscription:i})?(0,a._)((0,n._)({},i),{creditPrice:l.Mp,creditType:v.EV}):i},es=()=>{var{isBrandEnterprise:e}=(0,x.P)(),{data:t}=(0,R.R7)(),[r,o]=(0,T.useState)(!1),[v,C]=(0,T.useState)(""),[I,A]=(0,T.useState)({}),{data:E}=(0,D.rA)(),[,N]=(0,L.Ry)(e=>e),U=(0,S.Jz)(),{analytics:z}=(0,S.pn)(),q=(0,p.cv)(z),G=(0,b.H)(q),Y=U||(0,F.vb)(),Z=k(),W=(0,P.Z)(),H=(0,ei.mj)(),{locale:V}=(0,m.PZ)(),{sendOrderConfirmationEmails:J}=er();return{isLicensing:r,licensingAssetsHandler:(0,T.useCallback)(function(){var r=(0,i._)(function*(r){var{alreadyLicensedAssets:v=[],assets:m=[],cartMetadata:p={},format:b="",licenseeMetadata:I={},isVideoComp:S=!1,licenseMetadata:T={},licensingType:k,selectedAssetSize:P=""}=r,x=(U=(0,i._)(function*(){var r,o=M({data:(yield Promise.all(O({assets:m,user:E}))).map(e=>{var{data:t}=e;return(0,B.A)(t)}).flat()}),s=m.map((r=(0,i._)(function*(e){var t=(0,f.ZC)({asset:e}),{licenseId:r}=e,{subscriptions:i}=(null==o?void 0:o.find(t=>{var{assetId:r}=t;return r===String(e.id)}))||{},{id:s,license:c}=(0,w.N)({assetType:t,subscriptions:i,selectedLicenseId:r})||{},u=yield(0,_.og)({asset:e,format:b,selectedAssetSize:P,licenseName:c,isVideoComp:S});return(0,a._)((0,n._)({},u,P&&g.N[P]&&{comp_size:P},t===l.M9&&{override_filename:"".concat(d.wT,"_").concat(e.id,".").concat(b||u.content_format)},t===l.m$&&{content_provider:l._Y}),{license_name:c,show_modal:!0,subscription_id:s})}),function(e){return r.apply(this,arguments)}));return{licensingPayload:{content:yield Promise.all(s),license_metadata:T,required_cookies:"",decode_hadron_ids:e},orderMetadata:m.map(e=>{var{currency:r,description:i,descriptionLanguageMap:n={},id:a,itemType:o,headline:s,licenseId:l,preview:d={},price:c,priceType:u,src:v,thumb:m,thumbImageUrl:p,title:_,type:f}=e,h=r,g=c,y=u;if(!h||!g||!y){var{creditCurrency:b,creditPrice:C,creditType:w}=eo({asset:e,subscriptions:t});h=h||b,g=g||C,y=u||w}return h&&!z&&(z=h),y&&!D&&(D=y),{description:n[V]||i,formattedPrice:W({price:g,localeCurrencyOverride:h,priceType:y}),headline:s,id:a,itemType:o,licenseId:l,licenseName:H({licenseName:l}),price:g,priceType:y,thumbnailSrc:v||p||d.url||m,title:_,type:f}})}}),function(){return U.apply(this,arguments)});try{o(!0),C("");var U,z,D,R,L,{licensingPayload:F,orderMetadata:q}=yield x(),K=en[k]({urlParams:{licenseeIdentifier:"organization-".concat(null==E?void 0:E.organizationId)}}).formattedUrl,Q=yield j.Bn.post(K,F,(0,y.H)((0,n._)({trackingId:Y},G?{headers:{[c.ed]:G}}:{})));if(Z({assets:m}),N({assets:m,metadata:p,licensedContent:(null===(L=(0,B.A)(Q.data))||void 0===L?void 0:null===(R=L.meta)||void 0===R?void 0:R.licensedContent)||[]}),!m.some(e=>{var{licenseId:t}=e;return u.t9I.includes(t)})){var X=q.filter(e=>!(0,h.en)({alreadyLicensedAssets:v,asset:e}));J({cartTotalCurrency:z,filteredOrderMetadata:X,licenseMetadata:I,priceType:D})}return C(s.qO),Q}catch(e){var $,ee,et=(0,h.nR)({error:e,user:E});throw null===(ee=window.NREUM)||void 0===ee||null===($=ee.addPageAction)||void 0===$||$.call(ee,"Enterprise licensing error",(0,a._)((0,n._)({},et),{alreadyLicensedAssets:v,assets:m.map(e=>{var{id:t,type:r}=e;return{id:t,type:r}}),cartMetadata:p,format:b,licenseeMetadata:I,isVideoComp:S,licenseMetadata:T,licensingType:k,selectedAssetSize:P})),A(e),C(s.Nz),e}finally{o(!1)}});return function(e){return r.apply(this,arguments)}}(),[E,e,V,W,H,t,Y,Z,N,J,G]),licensingError:I,licensingStatus:v,setIsLicensing:o,setLicensingStatus:C}}},69200:(e,t,r)=>{r.d(t,{mj:()=>l});var i=r(3319),n=r(48976),a=r(74299),o=r(14041),s="ent:license_",l=()=>{var{t:e}=(0,a.Bd)(i.Xek),{isBrandSstk:t}=(0,n.P)();return(0,o.useCallback)(function(){var r,i,n,{licenseName:a,subscription:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a&&(r="".concat(s).concat(null==a?void 0:a.replace(/_unlimited/,""))),o&&(t&&(r="".concat("ecomm:license_").concat(null===(i=o.product)||void 0===i?void 0:i.name)),!t&&o.redeemableFor&&(r="".concat(s).concat(null===(n=o.redeemableFor)||void 0===n?void 0:n.replace(/_unlimited/,"")))),r)?e(r):""},[t,e])}},75096:(e,t,r)=>{r.d(t,{Y:()=>d});var i=r(51895),n=r(91025),a=r(48976),o=r(31242),s=r(14041),l=r(26209),d=()=>{var e=(0,l.D)(),{isBrandSstk:t}=(0,a.P)(),r=(0,o.useRouter)();return(0,s.useCallback)(()=>{if(t){var a,o;null===(o=window.NREUM)||void 0===o||null===(a=o.addPageAction)||void 0===a||a.call(o,"UP3-1623 assign useCartRedirect cartHref to href",(0,n._)((0,i._)({},window.location||{}),{cartHref:e,isBrandSstk:t})),window.location.href=e}else r.push(e)},[e,t,r])}},44537:(e,t,r)=>{r.d(t,{Nc:()=>H,Uq:()=>Z,Ym:()=>Y,_R:()=>W,tS:()=>V});var i=r(49253),n=r(51895),a=r(91025),o=r(96353),s=r(83550),l=r(25888),d=r(21347),c=r(94869),u=r(45182),v=r(35841),m=r(17442),p=r(82608),_=r(58837),f=r(55802),h=r(22714),g=r(39385),y=r(87669),b=r(91758),C=r(98870),w=r(45790),I=r(58838),A=r(95109),S=r(62719),T=r(70143),k=r(70627),P=r(10799),x=r(5067),E=r(45412),j=r(74490),N=r(31242),U=r(14041),z=r(48917),O=r(29037),M=r(66969),D=r(36908),R="Size limit warning",B=e=>{var t,{item:r,subscriptions:i}=e,{itemType:n,metadata:a}=r,o=(0,y.Q)({asset:r}),s=null==a?void 0:null===(t=a.cart)||void 0===t?void 0:t.licenseId,{allSubscriptions:l}=i;switch(n){case u.G_:return(0,k.d)({licenseName:s,subscriptions:l});case u.FY:case u.M9:case u.W1:default:return(0,S.A)({licenseName:s,subscriptions:l,assetType:n,contentTier:o})}},L=e=>{var t,r,{item:i}=e;return(null===(t=i.largeThumb)||void 0===t?void 0:t.url)||(null===(r=i.preview)||void 0===r?void 0:r.url)||i.preview||i.thumb||""},F=e=>{var t,{asset:r}=e;return r.itemType===u.W1&&!r.sizes&&!(null===(t=r.metadata)||void 0===t?void 0:t.cart.sizes)},q=e=>{var t,r,{item:i}=e,o=(0,y.$9)(i);if(i.itemType===u.m$){var s,l,d,v,m,p,_,f,h,g,C,w=null==i?void 0:null===(f=i.product)||void 0===f?void 0:null===(_=f.productPreviews[0])||void 0===_?void 0:null===(p=_.previewThumbnailImages)||void 0===p?void 0:p.find(e=>{var{resolution:t}=e;return"res600x600"===t}),I={[c.jx]:{height:600,width:600,src:"https://".concat(null==w?void 0:null===(h=w.assetFile)||void 0===h?void 0:h.s3Path)}};return{[c.jx]:{height:600,width:600,src:(0,b.c0)((0,a._)((0,n._)({},i),{angle:null==i?void 0:null===(C=i.metadata)||void 0===C?void 0:null===(g=C.cart)||void 0===g?void 0:g.angle,displays:I}))}}}return o?{[c.pI]:{height:i.height||(null===(t=i.preview)||void 0===t?void 0:t.height),width:i.width||(null===(r=i.preview)||void 0===r?void 0:r.width),src:i.preview||i.thumb}}:{[c.jx]:{height:(null===(s=i.largeThumb)||void 0===s?void 0:s.height)||(null===(l=i.preview)||void 0===l?void 0:l.height),width:(null===(d=i.largeThumb)||void 0===d?void 0:d.width)||(null===(v=i.preview)||void 0===v?void 0:v.width),src:null===(m=i.preview)||void 0===m?void 0:m.url}}},G=e=>{var t,r,i,o,s,l,d,v,m,_,h,g,y,{item:b,price:C,priceType:w,currency:I,subscriptionId:A,hasCreditsRemaining:S,isUnlimited:T,isUnavailableSubscription:k}=e,P=q({item:b}),x=L({item:b}).replace("-150nw","-260nw")||(null==P?void 0:null===(t=P[c.jx])||void 0===t?void 0:t.src),E=null===(r=b.assets)||void 0===r?void 0:r.find(e=>{var{assetClass:t}=e;return t===p.Iw}),j=[u.m$,u.W1].includes(b.itemType)&&!b.src,N=null===(i=b.meta)||void 0===i?void 0:i.search_context;return(null===(s=b.metadata)||void 0===s?void 0:null===(o=s.cart)||void 0===o?void 0:o.searchContext)&&(N=(0,f.fF)({trackingId:null===(_=b.metadata)||void 0===_?void 0:null===(m=_.cart)||void 0===m?void 0:null===(v=m.searchContext)||void 0===v?void 0:v.searchTrackingId,searchTerm:null===(y=b.metadata)||void 0===y?void 0:null===(g=y.cart)||void 0===g?void 0:null===(h=g.searchContext)||void 0===h?void 0:h.searchTerm})),(0,n._)((0,a._)((0,n._)((0,a._)((0,n._)({},b),{id:b.itemId}),[u.W1,u.m$,u.uH,u.rr].some(e=>e===b.itemType)&&{image:{id:b.itemId,categories:b.categories,description:b.description||b.subhead||"",url:x,isEditorial:!!b.isEditorial,isPremium:!!b.isPremium,displays:P,permalink:b.permalink,isIllustration:b.isIllustration,isVector:b.isVector}}),{type:b.itemType,isFootageSelect:b.footageSelect,price:C,priceType:w,waveformPng:b.waveformPng||(null==E?void 0:E.externalUrl),currency:I,licenseId:(null===(d=b.metadata)||void 0===d?void 0:null===(l=d.cart)||void 0===l?void 0:l.licenseId)||"",subscriptionId:A,hasCreditsRemaining:S,isPixelSquid:b.itemType===u.m$,isUnavailableAsset:F({asset:b}),isUnlimited:T,isUnavailableSubscription:k,meta:(0,n._)({},N?{search_context:N}:{})}),j&&{src:x})},Y=e=>{var{cartItems:t=[],subscriptions:r}=e;return t.filter(e=>[u.W1,u.m$,u.G_,u.FY,u.M9,u.uH,u.rr].includes(e.itemType)).map(e=>{var t=B({item:e,subscriptions:r}),{price:i=0,priceType:n=_.EV}=(0,T.q)({uniqueSubscription:t});return G({item:e,price:i,priceType:n,currency:(null==t?void 0:t.creditCurrency)||"",subscriptionId:(null==t?void 0:t.id)||"-",isUnavailableSubscription:!t,hasCreditsRemaining:(0,w.X)({subscription:t}),isUnlimited:(0,I.t)({subscription:t})})})},Z=e=>{var{isPrimary:t,isLedger:r=!1}=e;return(0,s.Xl)((0,n._)({urlParams:{isPrimary:t}},r&&{queryParams:{isLedger:r}})).formattedUrl},W=e=>{var{isPrimary:t}=e,r=(0,D.i9)(),{data:i}=(0,x.R7)();return(0,z.Ay)(r&&i?Z({isPrimary:t}):null,e=>j.C2.get(e).then(e=>{var{data:t}=e;return t&&(0,a._)((0,n._)({},t),{items:Y({cartItems:t.items,subscriptions:i})})}))},H=()=>{var e,{mutate:t}=(0,z.iX)(),[r,o]=(0,U.useState)({status:"",error:void 0}),[c,p]=(0,U.useState)(!1),_=(0,U.useRef)(!1),{productAddedAnalyticsEvent:f,cartViewedAnalyticsEvent:y,productRemovedAnalyticsEvent:b}=(0,O.f)(),{getSearchContext:C}=(0,M.J)(),w=(0,N.useRouter)(),{queueIpReview:I}=(0,P.F)({trackingId:null===(e=C())||void 0===e?void 0:e.search_tracking_id}),A=(0,U.useCallback)(e=>{void 0===(null==e?void 0:e.cartId)||_.current||(_.current=!0,y(e))},[_,y]),S=(0,U.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var{id:r}=e;return -1===t.findIndex(e=>{var{id:t}=e;return r===t})})},[]),T=(0,U.useCallback)(e=>{var{cartItems:t=[],itemsToAdd:r=[]}=e,i=[...t];return r.forEach(e=>{var t=(0,g.Qk)({asset:e}),r=i.findIndex(r=>{var{id:i,type:n}=r;return i===e.id&&n===t});r>-1?i[r]=(0,n._)({},e):i.unshift((0,a._)((0,n._)({},e),{addedTime:new Date}))}),i},[]),k=(0,U.useCallback)(function(){var e=(0,i._)(function*(e){var t,{items:r,licenseId:a,licenseAsJpeg:o}=e;return Promise.all(null==r?void 0:r.map((t=(0,i._)(function*(e){var t=(0,g.Qk)({asset:e}),r=a||e.licenseId,i=o||e.licenseAsJpeg,s=yield(0,h.og)({asset:e,licenseName:r});return{item_id:e.id,item_type:t,metadata:{cart:(0,n._)({license_id:r,license_as_jpeg:i,subscription_id:e.subscriptionId,size:s.content_size,format:s.content_format,sizes:(0,h.Rj)({asset:e}),search_context:C(e),source:[u.uH,u.rr].some(e=>e===t)?m.Au:""},t===u.m$&&{angle:s.angle})}}}),function(e){return t.apply(this,arguments)})))});return function(t){return e.apply(this,arguments)}}(),[C]),x=(0,U.useCallback)(function(){var e=(0,i._)(function*(e){var{cart:r,eventLabel:i,gridItems:c,isPrimary:u=!0,itemsToAdd:m,licenseId:_,formatType:h,licensePrice:g,mutateCart:y,withOptimisticUpdate:w=!0,pageSection:A,listId:S}=e;try{var P=m.map(e=>(0,a._)((0,n._)({},e),{meta:(0,n._)({search_context:C(e)},e.meta)}));o({status:"",error:void 0}),p(!1);var x=T({cartItems:r.items,itemsToAdd:P});if(x.length>v.Zm){o({status:l.Nz}),p(!0);return}w&&y(e=>(0,a._)((0,n._)({},e),{items:x}),!1);var E=(0,s.bE)({urlParams:{isPrimary:u}}).formattedUrl,N=yield k({items:P,licenseId:_,licenseAsJpeg:h===d.kr});yield j.C2.post(E,N),o({status:l.qO}),I(m),u&&P.forEach(e=>{var t=r.items.find(t=>{var{id:r}=t;return r===e.id});t&&_!==t.licenseId&&b({cart:r,eventLabel:i,gridItems:c,items:[e],matchingCartItem:t,pageSection:A}),f({cart:r,eventLabel:i,gridItems:c,items:[e],licenseId:_,licensePrice:g,pageSection:A,listId:S})})}catch(e){o({status:l.Nz,error:e})}finally{yield t(Z({isPrimary:u,isLedger:!0})),yield t(Z({isPrimary:u}))}});return function(t){return e.apply(this,arguments)}}(),[T,k,C,f,b,t,I]);return{triggerCartViewedEvent:A,addCartItems:x,removeCartItems:(0,U.useCallback)(function(){var e=(0,i._)(function*(e){var{cartData:r,eventLabel:i,gridItems:o,isPrimary:l=!0,itemsToRemove:d=[],mutateCart:c,pageSection:u,routePathProps:v,withOptimisticUpdate:m=!0,mutateCallback:p}=e;try{m&&c(e=>(0,a._)((0,n._)({},e),{items:S(e.items,d)}),!1);var _=(0,s.dt)({urlParams:{isPrimary:l}}).formattedUrl;yield j.C2.delete(_,{data:d.map(e=>({item_id:e.id,item_type:(0,g.Qk)({asset:e})}))}),l&&b({cart:r,eventLabel:i,gridItems:o,items:d,pageSection:u}),v&&w.push(...v)}catch(e){}finally{p?p({isPrimary:l}):(yield t(Z({isPrimary:l,isLedger:!0})),yield t(Z({isPrimary:l})))}});return function(t){return e.apply(this,arguments)}}(),[S,b,w,t]),moveToSaveForLater:(0,U.useCallback)(function(){var e=(0,i._)(function*(e){var{eventLabel:t,itemsToMove:r,pageSection:i,primaryCart:d,savedForLaterCart:c,mutatePrimaryCart:u,mutateSavedForLaterCart:m}=e;o({status:"",error:void 0}),p(!1);var _=T({cartItems:c.items,itemsToAdd:r});if(_.length>v.Zm)throw o({status:l.Nz}),p(!0),Error(R);u(e=>(0,a._)((0,n._)({},e),{items:S(e.items,r)}),!1),m(e=>(0,a._)((0,n._)({},e),{items:_}),!1);var f=(0,s.cb)({urlParams:{fromCartType:v.jT,toCartType:v.pw}}).formattedUrl,h=yield k({items:r});yield j.C2.post(f,h),b({cart:d,eventLabel:t,items:r,pageSection:i})});return function(t){return e.apply(this,arguments)}}(),[T,k,b,S]),moveToPrimary:(0,U.useCallback)(function(){var e=(0,i._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:i,mutateSavedForLaterCart:d}=e;o({status:"",error:void 0}),p(!1);var c=T({cartItems:r.items,itemsToAdd:t});if(c.length>v.Zm)throw o({status:l.Nz}),p(!0),Error(R);d(e=>(0,a._)((0,n._)({},e),{items:S(e.items,t)}),!1),i(e=>(0,a._)((0,n._)({},e),{items:c}),!1);var u=(0,s.cb)({urlParams:{fromCartType:v.pw,toCartType:v.jT}}).formattedUrl,m=yield k({items:t});yield j.C2.post(u,m),f({cart:r,items:t})});return function(t){return e.apply(this,arguments)}}(),[T,k,f,S]),addToCartStatus:r,setAddToCartStatus:o,isSizeLimitWarning:c}},V=e=>{var{cartItems:t}=e,{data:r}=(0,x.R7)(),i=(0,E.h)(),{isLoading:n}=i,a=(0,o._)(i,["isLoading"]),s=(e=>{var{items:t}=e;return null==t?void 0:t.some(e=>{var{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:l,hasInsufficientSubscriptionCredits:d,insufficientAmount:c,hasLowDebitableBalance:u}=(0,A.E)({items:t,isLoading:!r||n,subscriptions:r,userCapabilities:a});return{amountType:l,isDebitableUser:(0,C.fY)({userCapabilities:a}),userCanViewDebitableBalance:(0,C.Pl)({userCapabilities:a}),hasInsufficientCartItemsCredits:s,hasInsufficientSubscriptionCredits:d,insufficientAmount:c,hasLowDebitableBalance:u}}},50717:(e,t,r)=>{r.d(t,{M:()=>v});var i=r(51895),n=r(63870),a=r(93255),o=r(18570),s=r(65915),l=r(36908),d=r(74490),c=r(34559),u=r(48917),v=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t}=(0,l.rA)(),r=(0,i._)({target:a.A_I,site_name:o.RJ,setting_type:a.A_I},e);return(0,u.Ay)((null==t?void 0:t.id)&&(null==t?void 0:t.organizationId)&&(0,n.h_)({queryParams:r}).formattedUrl,e=>d.Bn.get(e).then(e=>(0,c.A)(e.data)),{dedupingInterval:s.iW})}},22717:(e,t,r)=>{r.d(t,{Z:()=>i});var i=e=>e&&"string"==typeof e?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):""}}]);
//# sourceMappingURL=74742-5d123cac09462f2a.js.map